# Phase 10.2: Vaults Page - Context

**Gathered:** 2026-02-09
**Status:** Ready for planning

<domain>
## Phase Boundary

Make vaults a first-class sidebar page replacing "Collaboration" with full vault management. This includes: vault list pane, vault detail with recordings, member management (invite via shareable link, full role management), vault CRUD, business bank creation, vault badges across the app, search/filter within vaults, and import vault selection for all three import flows (Zoom, Google, YouTube).

Full scope — all 7 requirements (VAULT-UI-01 through VAULT-UI-07) delivered in this phase.

</domain>

<decisions>
## Implementation Decisions

### MVP scope & wave priority
- Full vault experience shipped in this phase — includes badges, search, and import vault selection
- Plans should be parallelized where possible (not 9 sequential waves)
- Import vault selection stays in phase (covers all 3 import flows: Zoom, Google, YouTube)
- Existing plans should be researched then patched — not replanned from scratch. Preserve good work, fix stale references, optimize wave grouping

### Vault list & detail layout
- Bank switcher controls which bank's vaults are visible — vault list pane shows ONLY the active bank's vaults
- Use existing BankSwitcher in header for global bank context
- Vaults page ALSO shows which bank you're in prominently (bank context visible on the page itself, not just header)
- **Research required:** Verify BankSwitcher exists, works, and sets active bank context. If not functional, this phase must include wiring/fixes
- Vault detail: recordings always visible in main content area, members open as slide-in detail panel (4th pane pattern). NO tabs
- Reuse existing TranscriptTable component for recordings display within vaults. Add vault-specific columns (local tags, notes) as needed

### Member management
- Invite flow: reuse team invite pattern from Phase 4 — generate shareable link with expiry. NO new vault_invitations table, NO email sending infrastructure
- Role management: full 5-level hierarchy exposed in UI (vault_owner, vault_admin, manager, member, guest)
- Default join role via link: always member. Owner/admin promotes after joining
- Both self-removal (members can leave) and admin removal (owners/admins can remove others) are allowed

### Business bank creation
- Collect: name + logo + settings (cross-bank recording behavior, default vault) — full configuration upfront
- Entry points: both header BankSwitcher dropdown AND Vaults page CTA
- Post-creation flow: auto-switch to new bank + immediately prompt to create first vault
- Bank settings (rename, logo, danger zone/delete) lives in Settings page only — NOT on the Vaults page. Vaults page focuses on vaults

### Claude's Discretion
- Exact wave grouping for parallel execution (based on file dependency analysis)
- Loading skeleton and transition designs
- Error boundary placement and fallback UI
- Mobile responsive breakpoints and overlay patterns
- VaultBadge component visual design (size, color coding by vault type)
- Search/filter UI component design within vaults
- VaultSelector component design for import dialogs

</decisions>

<specifics>
## Specific Ideas

- Banks should feel like entirely separate "subaccounts" — selecting a bank should scope everything to that bank only
- The shareable invite link pattern already exists from Phase 4 team invites — research the exact implementation to reuse
- AddToVaultMenu component already exists (built in Phase 9) — should be integrated into the new page

</specifics>

<deferred>
## Deferred Ideas

- None — discussion stayed within phase scope

</deferred>

---

*Phase: 10.2-vaults-page*
*Context gathered: 2026-02-09*
