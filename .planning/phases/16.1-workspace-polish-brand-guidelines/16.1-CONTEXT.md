# Phase 16.1: Workspace Polish & Brand Guidelines - Context

**Gathered:** 2026-02-28
**Status:** Ready for planning

<domain>
## Phase Boundary

Revisit all Phase 16 workspace redesign UI surfaces with fresh eyes. Verify design decisions, fix visual/behavioral issues, add fit/finish polish, and create a definitive brand guidelines skill for consistent design enforcement in future phases. No new capabilities — this is quality and codification work only.

</domain>

<decisions>
## Implementation Decisions

### Design audit scope
- Systematic pass through ALL Phase 16 surfaces: sidebar, org switcher bar, workspace panes, folder management, invite flows, onboarding explorer, breadcrumbs, DnD, calls list, call detail, settings
- High visual standard: anything that catches the eye negatively gets fixed — every pixel matters
- Audit against brand-guidelines-v4.2.md AND instinct — flag things that technically comply but still look off. Update guidelines where findings diverge from what looks right
- Audit identifies the specific design reference app as Linear: clean, fast, dense-but-not-cluttered, spring animations, keyboard-first feel

### Polish approach
- The app "feels rough overall" from rapid 8-plan build — needs a comprehensive tightening pass on spacing, alignment, transitions, and visual consistency
- All polish dimensions equally important: navigation feel, visual consistency, and animations/transitions
- Desktop must be perfect; mobile just needs to not be broken (no layout issues, but don't optimize for mobile)

### Quality bar
- Customer-ready: "I'd show it to a customer" — every surface looks intentional, nothing screams prototype, comfortable demoing it
- Target reference: Linear — clean, fast, dense-but-not-cluttered, keyboard-first, spring animations

### Brand guidelines skill
- Primary consumer: Claude Code agents (optimize for machine consumption, keep human-readable)
- Content scope: let the audit reveal what's undocumented or inconsistent — the skill codifies whatever the audit surfaces
- No specific UI pattern categories pre-decided — audit drives content

### Claude's Discretion
- Fix flow: whether to audit-then-fix or audit+fix inline — pick based on issue scope
- Brand guidelines strictness: determine per category what's a hard rule vs preferred pattern
- Brand guidelines location: skill vs doc — pick format that best serves downstream agents
- Brand guidelines versioning: v4.3 increment vs v5.0 — based on how much actually changes
- Dark mode: determine if dark mode polish is worth including based on current implementation state
- Critical flows: identify highest-impact flows to verify based on what the audit surfaces
- Verification method: dev-browser automated vs hybrid — pick based on issue types found

</decisions>

<specifics>
## Specific Ideas

- "It feels rough overall" — the whole thing was built fast and needs tightening
- Linear is the polish reference: clean, fast, dense-but-not-cluttered, spring animations
- Desktop primary, mobile basic — no mobile optimization, just no broken layouts
- Brand skill should be agent-first: future GSD agents reference it when doing UI work to maintain consistency

### CRITICAL: AppShell Alignment Issue (identified 2026-02-28)

The v2 AppShell does NOT match v1's behavior in key ways. This is the #1 priority for this phase:

**Detail Panel (Pane 4) behavior:**
- v1 (CORRECT): Pane 4 slides in and Pane 3 **shrinks** to make room. All panes operate on the **same plane/z-index**. No overlapping, no covering.
- v2 (BROKEN): Pane 4 acts as a **drawer overlay** that slides on top of content, covering things. Different z-index plane.
- FIX: v2 must match v1 — detail panel pushes content, doesn't cover it. Same plane.

**Header:**
- v1 has a specific header size and look
- v2 header is different/wrong — needs to match v1

**Background:**
- Page background, card backgrounds, pane chrome — all need to match v1's visual feel

**Architecture note:** v2's engine is correct (spring physics via motion/react, Zustand store, TanStack Router). Only the visual/behavioral output needs to change. "Lambo engine in lambo body" — the engine stays, the body gets fixed.

**v1 reference:** Compare against brain/src/components/layout/AppShell.tsx (327 lines, CSS transitions, same-plane panes)
**v2 current:** callvault/src/components/layout/AppShell.tsx (225 lines, spring physics, drawer overlay for Pane 4)

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 16.1-workspace-polish-brand-guidelines*
*Context gathered: 2026-02-28*
