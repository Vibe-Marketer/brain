---
phase: 16.2-v2-visual-alignment
plan: 04
type: execute
wave: 3
depends_on: ["16.2-01", "16.2-02", "16.2-03"]
files_modified:
  - brain/.claude/skills/callvault-design-system.md
autonomous: false

must_haves:
  truths:
    - "Dev-browser screenshots confirm V2 visually matches V1's approved light mode across all pages"
    - "Every vibe orange instance in V2 matches the 14 documented structural contexts from V1"
    - "Side-by-side comparison shows matching visual language"
    - "V2 passes the show-it-to-a-customer bar on all pages"
    - "Design system skill accurately describes what V2 actually renders after Plans 01-03"
  artifacts:
    - path: ".claude/skills/callvault-design-system.md"
      provides: "Updated design system skill reflecting actual V2 state post-alignment"
      contains: "Button.*variant"
  key_links:
    - from: ".claude/skills/callvault-design-system.md"
      to: "callvault/src/components/ui/button.tsx"
      via: "Documents the Button component created in Plan 01"
      pattern: "button|variant"
    - from: ".claude/skills/callvault-design-system.md"
      to: "callvault/src/globals.css"
      via: "Documents tokens that actually exist in globals.css"
      pattern: "token|vibe-orange"
---

<objective>
Visual verification of all Phase 16.2 changes using dev-browser, then sync the design system skill to reflect what V2 actually renders after all code changes.

Purpose: The user's locked decision requires "BOTH: V1 vs V2 side-by-side AND V2 before/after fixes — full visual evidence." This plan provides visual proof and ensures the design system skill stays accurate (ROADMAP Success Criterion 4).

Output: Screenshots confirming V2 matches V1, plus updated design system skill.
</objective>

<execution_context>
@/Users/Naegele/.claude/get-shit-done/workflows/execute-plan.md
@/Users/Naegele/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16.2-v2-visual-alignment/16.2-RESEARCH.md
@.planning/phases/16.2-v2-visual-alignment/16.2-01-SUMMARY.md
@.planning/phases/16.2-v2-visual-alignment/16.2-02-SUMMARY.md
@.planning/phases/16.2-v2-visual-alignment/16.2-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Dev-browser visual audit of all V2 pages against V1</name>
  <files>
    callvault/src/routes/_authenticated/index.tsx
    callvault/src/routes/_authenticated/calls/$callId.tsx
    callvault/src/routes/_authenticated/settings/$category.tsx
    callvault/src/routes/_authenticated/import/index.tsx
    callvault/src/routes/_authenticated/workspaces/index.tsx
    callvault/src/routes/_authenticated/workspaces/$workspaceId.tsx
    callvault/src/routes/_authenticated/folders/$folderId.tsx
    callvault/src/routes/_authenticated/sharing/index.tsx
    callvault/src/routes/_authenticated/join/workspace.$token.tsx
    callvault/src/routes/login.tsx
  </files>
  <action>
Use dev-browser to screenshot every V2 page and compare against V1 (app.callvaultai.com).

**Pages to verify (V2 localhost:8080 or callvault.vercel.app):**

1. **Login page** (/login) — button gradient, typography, overall layout. h1 "CallVault" should be text-foreground (brand logo, intentionally NOT orange).
2. **Home / All Calls** (/) — page title in vibe orange, sidebar nav active states, glossy collapsed icons, workspace sidebar active states, empty state microcopy
3. **Call Detail** (/calls/:id) — page title in vibe orange, metadata layout, transcript area
4. **Settings** (/settings/account) — page title in vibe orange, settings sidebar with pill + orange active state
5. **Settings > Organizations** (/settings/organizations) — org cards, active org indicator
6. **Import** (/import) — page title in vibe orange, tab bar with orange underline, source cards
7. **Workspaces** (/workspaces) — page title in vibe orange, org sidebar with pill + orange active, workspace cards
8. **Workspace Detail** (/workspaces/:id) — page title in vibe orange, member panel
9. **Folder View** (/folders/:id) — page title in vibe orange, folder heading, calls list
10. **Shared With Me** (/sharing) — page title in vibe orange, debug marker removed
11. **Join Workspace** (/join/workspace/:token) — "You're Invited" h1 in vibe orange, error state h1s in vibe orange

**For each page:**
1. Navigate to the V2 page, take screenshot
2. Navigate to the equivalent V1 page (if exists), take screenshot
3. Compare: heading color, active states, component styling, spacing
4. Note any remaining discrepancies

**Specific checks:**
- SidebarNav expanded: active item has orange text, pill indicator, fill icon in orange
- SidebarNav collapsed: glossy 3D gradient icon buttons, active has orange ring + dot
- Settings sidebar: active category has pill + orange icon + orange text + bg-vibe-orange/10
- WorkspaceSidebarPane: active folder has pill + orange text + tinted bg
- OrgSidebar: active org has pill + orange text
- All h1 titles: vibe orange color (except login "CallVault" which stays black)
- Headings render in Montserrat font (visually thicker/bolder than Inter)
- globals.css has no border-soft declarations (verify via grep)

If any visual issues are found, fix them immediately before presenting to user.
  </action>
  <verify>
1. Screenshots taken for all 11 page variants listed above
2. `grep -rn 'border-soft' /Users/Naegele/dev/callvault/src/globals.css` returns no matches (dead tokens removed)
3. `grep -rn 'text-vibe-orange' /Users/Naegele/dev/callvault/src/routes/_authenticated/join/workspace.\$token.tsx` confirms join route has orange headings
4. `grep -n 'text-foreground' /Users/Naegele/dev/callvault/src/routes/login.tsx | grep 'CallVault'` confirms login logo stays black
  </verify>
  <done>All V2 pages pass visual comparison against V1's approved light mode look, including join route and login logo exception</done>
</task>

<task type="auto">
  <name>Task 2: Sync design system skill to reflect V2 reality post-alignment</name>
  <files>.claude/skills/callvault-design-system.md</files>
  <action>
Read the current design system skill at `/Users/Naegele/dev/brain/.claude/skills/callvault-design-system.md` and update it to accurately reflect what V2 actually renders after Plans 01-03.

**Updates needed:**

1. **Button component section:** Document that `src/components/ui/button.tsx` now exists with 6 variants (default/slate gradient, hollow, destructive, ghost, link, outline) and 4 sizes (default, sm, lg, icon). Update any references to "buttons are ad-hoc inline classes" — they now use a reusable component.

2. **Tabs component section:** Document that `src/components/ui/tabs.tsx` now exists with the brand orange pill underline indicator using Radix UI primitives.

3. **Navigation active states section:** Update to reflect the implemented pattern — pill indicator + orange text + orange icon + bg-vibe-orange/10. Note the glossy 3D collapsed icon treatment in SidebarNav.

4. **Typography section:** Confirm heading base uses Montserrat (font-weight: 700 base, 800 via font-montserrat class). Note that h1 page titles use text-vibe-orange as wayfinding indicator.

5. **Token table:** Remove any reference to `border-soft` (dead V1 token, now removed from globals.css). Verify all listed tokens still exist.

6. **Vibe orange contexts:** Confirm the 14 structural contexts are accurately documented, noting that login h1 "CallVault" is intentionally excluded (brand logo exception).

Keep changes minimal and accurate — only update what actually changed. The skill must describe reality, not aspirations.
  </action>
  <verify>
1. `grep -n 'border-soft' /Users/Naegele/dev/brain/.claude/skills/callvault-design-system.md` returns no matches
2. `grep -n 'button.tsx\|Button' /Users/Naegele/dev/brain/.claude/skills/callvault-design-system.md` shows button component documented
3. `grep -n 'tabs.tsx\|TabsTrigger' /Users/Naegele/dev/brain/.claude/skills/callvault-design-system.md` shows tabs component documented
  </verify>
  <done>Design system skill accurately describes V2's actual rendering state — button/tabs components, navigation active states, typography, tokens, and vibe orange contexts all match what the code produces</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: User visual approval of V2 alignment with V1</name>
  <what-built>
What was built across Plans 01-03:
- Button component with 6 brand variants (default/slate gradient, hollow, destructive, ghost, link, outline)
- Tabs component with orange pill underline indicator
- SidebarNav: active text in vibe orange, collapsed glossy 3D icon buttons
- Settings sidebar: full 4-layer selection (pill, orange icon, orange text, tinted bg)
- WorkspaceSidebarPane: folder active state with pill + orange
- OrgSidebar: active org with pill + orange
- All page title headings in vibe orange (including join route; login "CallVault" intentionally stays black as brand logo)
- Montserrat heading font base in globals.css
- Dead V1 tokens (border-soft) removed from globals.css
- Warm empty state microcopy across all routes
- Design system skill synced to match actual V2 rendering
  </what-built>
  <how-to-verify>
1. Review side-by-side screenshots (V1 vs V2)
2. Check page title headings are in vibe orange (not black) — matches V1
3. Check SidebarNav active items show orange text with pill indicator
4. Check collapsed sidebar icons have glossy 3D treatment
5. Check settings sidebar active category shows full orange treatment
6. Confirm login h1 "CallVault" is black (brand logo, correct)
7. Confirm overall visual feel matches V1's approved light mode
  </how-to-verify>
  <resume-signal>Type "approved" or describe specific issues to fix</resume-signal>
</task>

</tasks>

<verification>
- Dev-browser screenshots of all 11 V2 pages taken and compared to V1 (including join route and login)
- No remaining visual discrepancies between V2 and V1's approved light mode
- Design system skill matches actual V2 rendering
- Zero dead V1 tokens in globals.css
- User approves the visual alignment
</verification>

<success_criteria>
- Side-by-side screenshots show V2 matches V1's visual language
- All vibe orange instances match the 14 documented structural contexts
- Design system skill accurately describes V2 post-alignment
- Zero dead V1 tokens in codebase
- User confirms V2 passes the "show it to a customer" bar
</success_criteria>

<output>
After completion, create `.planning/phases/16.2-v2-visual-alignment/16.2-04-SUMMARY.md`
</output>
