---
phase: 16.2-v2-visual-alignment
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - callvault/src/components/ui/button.tsx
  - callvault/src/components/ui/tabs.tsx
autonomous: true

must_haves:
  truths:
    - "A reusable Button component exists with all 6 brand variants (default/slate, hollow, destructive, ghost, link, outline)"
    - "A reusable Tabs component exists with the brand-spec orange pill underline indicator"
    - "Both components use cva for variant management and cn() for class merging"
    - "Both components follow shadcn/ui patterns compatible with TailwindCSS v4"
  artifacts:
    - path: "src/components/ui/button.tsx"
      provides: "Reusable Button component with 6 brand variants and 4 sizes"
      exports: ["Button", "buttonVariants"]
    - path: "src/components/ui/tabs.tsx"
      provides: "Reusable Tabs component with Radix UI primitives and brand styling"
      exports: ["Tabs", "TabsList", "TabsTrigger", "TabsContent"]
  key_links:
    - from: "src/components/ui/button.tsx"
      to: "class-variance-authority"
      via: "cva import"
      pattern: "import.*cva.*class-variance-authority"
    - from: "src/components/ui/tabs.tsx"
      to: "radix-ui"
      via: "Radix Tabs primitives"
      pattern: "import.*Tabs.*radix-ui"
---

<objective>
Create the missing UI component infrastructure: a Button component with all 6 brand-specified variants and a Tabs component with the orange pill underline indicator.

Purpose: V2 has zero shared UI components (no src/components/ui/ directory). All buttons are ad-hoc inline Tailwind classes, leading to inconsistency. The brand guidelines v4.4 specify 6 button variants and a specific tab style that should be codified as reusable components.

Output: Two new component files in src/components/ui/ that follow shadcn/ui patterns and use the existing cva + cn() utilities.
</objective>

<execution_context>
@/Users/Naegele/.claude/get-shit-done/workflows/execute-plan.md
@/Users/Naegele/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16.2-v2-visual-alignment/16.2-RESEARCH.md

Key references (read before implementing):
- /Users/Naegele/dev/brain/docs/design/brand-guidelines-v4.4.md (Button System section, Tab Navigation section)
- /Users/Naegele/dev/callvault/src/globals.css (existing button CSS utilities and tokens)
- /Users/Naegele/dev/callvault/src/lib/utils.ts (cn() helper)
- /Users/Naegele/dev/callvault/CLAUDE.md (TailwindCSS v4 constraints, Remix Icons only)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Button component with 6 brand variants</name>
  <files>src/components/ui/button.tsx</files>
  <action>
Create the `src/components/ui/` directory and `button.tsx` following the shadcn/ui + cva pattern.

The Button component must implement exactly 6 variants per brand-guidelines-v4.4.md:

1. **default** (slate gradient primary): `bg-gradient-to-b from-[#627285] to-[#394655]`, white text, inner/outer shadow for glossy 3D effect, `[text-shadow:0_1px_2px_rgba(0,0,0,0.25)]`, `active:translate-y-px active:scale-[0.98]`
2. **hollow**: White bg (`bg-background`), `border border-border`, `text-foreground`, hover `bg-muted`. Dark mode: `bg-card`, hover `bg-secondary`
3. **destructive**: `bg-gradient-to-b from-[#E04848] to-[#C23030]`, white text, same glossy shadow pattern as default but red
4. **ghost**: Transparent bg, no border, hover `bg-muted/50`
5. **link**: No bg, no border, `text-foreground underline-offset-4 hover:underline`
6. **outline**: `border border-border bg-transparent`, `text-foreground`, hover `bg-muted/50`

Sizes: `default` (h-10 px-6 text-sm), `sm` (h-8 px-3 text-xs), `lg` (h-12 px-8 text-base), `icon` (h-10 w-10 p-0)

All variants must include:
- `rounded-xl` (not rounded-md — brand spec uses xl for buttons)
- `font-medium` text
- `min-w-[120px]` for non-icon sizes (per brand spec)
- Focus: `focus-visible:outline focus-visible:outline-2 focus-visible:outline-vibe-orange focus-visible:outline-offset-2`
- Disabled: `disabled:pointer-events-none disabled:opacity-50`
- Support `asChild` prop via Radix Slot for composability

Use `cva` from `class-variance-authority` (already installed). Use `cn` from `@/lib/utils`.

Export both `Button` component and `buttonVariants` function for external variant access.

Do NOT migrate existing inline buttons in this task — that's a separate concern. This task only creates the component file.
  </action>
  <verify>
1. File exists at src/components/ui/button.tsx
2. TypeScript compiles: `cd /Users/Naegele/dev/callvault && npx tsc --noEmit --pretty 2>&1 | head -20`
3. Exports Button and buttonVariants
4. All 6 variants defined in cva
  </verify>
  <done>button.tsx exists with 6 variants (default, hollow, destructive, ghost, link, outline), 4 sizes (default, sm, lg, icon), asChild support, and compiles without type errors</done>
</task>

<task type="auto">
  <name>Task 2: Create Tabs component with brand orange pill indicator</name>
  <files>src/components/ui/tabs.tsx</files>
  <action>
Create `src/components/ui/tabs.tsx` using Radix UI Tabs primitives (already available via `radix-ui` package).

The component must implement the brand-guidelines-v4.4.md Tab Navigation spec:

**TabsList**: Full-width container with bottom border (`border-b border-ink dark:border-white`), flex row with `gap-6`, left-justified tabs.

**TabsTrigger**:
- Base: `relative px-0 pb-3 pt-0 text-sm uppercase tracking-wide`
- Inactive: `font-light text-muted-foreground hover:text-foreground`
- Active: `font-semibold text-foreground`
- Orange pill indicator (active): An `::after` pseudo-element positioned at the bottom, `h-[6px] bg-vibe-orange rounded-full`, full-width of the trigger. Implemented via Tailwind arbitrary `after:` utilities with `data-[state=active]:` prefix.
- No background changes on active — just text weight and the orange pill
- Transition: `transition-colors`
- Focus: `focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring`

**TabsContent**: Simple wrapper with `focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring`.

Import pattern: `import { Tabs } from 'radix-ui'` (the v2 project uses the `radix-ui` package directly, NOT `@radix-ui/react-tabs`).

Export: `Tabs` (root), `TabsList`, `TabsTrigger`, `TabsContent` — all as named exports.

Use `cn()` from `@/lib/utils` for class merging. Use `React.forwardRef` for all components.

Do NOT convert existing inline tab implementations (like Import page) — that's a future concern. This task only creates the component file.
  </action>
  <verify>
1. File exists at src/components/ui/tabs.tsx
2. TypeScript compiles: `cd /Users/Naegele/dev/callvault && npx tsc --noEmit --pretty 2>&1 | head -20`
3. Exports Tabs, TabsList, TabsTrigger, TabsContent
4. Uses Radix Tabs primitives from 'radix-ui'
  </verify>
  <done>tabs.tsx exists with brand-spec orange pill indicator on active triggers, uses Radix Tabs primitives, exports all 4 components, compiles without type errors</done>
</task>

</tasks>

<verification>
- `cd /Users/Naegele/dev/callvault && npx tsc --noEmit` passes with zero errors
- `ls src/components/ui/` shows button.tsx and tabs.tsx
- Both files export their expected named exports
- No existing code is broken (these are new files only)
</verification>

<success_criteria>
- src/components/ui/button.tsx exists with 6 brand variants
- src/components/ui/tabs.tsx exists with orange pill active indicator
- Both follow shadcn/ui patterns (cva, cn, forwardRef, asChild)
- TypeScript compiles cleanly
- No existing pages are modified
</success_criteria>

<output>
After completion, create `.planning/phases/16.2-v2-visual-alignment/16.2-01-SUMMARY.md`
</output>
