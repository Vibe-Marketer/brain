---
status: blocked
phase: 10.3-youtube-specific-vaults-video-intelligence
source: 10.3-01-SUMMARY.md, 10.3-02-SUMMARY.md, 10.3-03-SUMMARY.md, 10.3-04-SUMMARY.md
started: 2026-02-11T12:00:00Z
updated: 2026-02-11T06:42:00Z
---

## Current Test

[post-checkpoint continuation complete]

## Tests

### 1. YouTube Vault Creation
expected: In the Vaults page, create a new vault. The vault type options should include "YouTube". Creating a YouTube vault should show a red YouTube icon and "YouTube" label in the vault list.
result: issue
reported: "I don't se this as an option in settings or in the hubs page.."
severity: major

### 2. YouTube Vault Video List Layout
expected: Open a YouTube vault that has imported videos. Instead of the standard TranscriptTable, you should see a media-row list with video thumbnails (small images), title, channel name, view/like counts, duration, and category columns. An "Outlier" column should show a dashed placeholder with "coming soon" tooltip.
result: issue
reported: "Retest after plan 10.3-06 continuation now returns structured downstream diagnostics instead of opaque 500: youtube-import responds HTTP 400 with source=youtube-api, stage=video-details, status=400, and details.error.reason=API_KEY_INVALID."
severity: blocker

### 3. Sortable Column Headers
expected: In the YouTube video list, click on column headers (Date, Views, Likes, Duration, Title). Each click should sort the list by that column, and an arrow indicator should show the current sort direction.
result: issue
reported: "Still blocked: no successful import yet because upstream API credentials/billing fail before any video is persisted."
severity: blocker

### 4. Video Search
expected: In a YouTube vault, there should be a search bar. Type a keyword and the video list should filter to matching titles after a brief debounce (~300ms).
result: issue
reported: "Still blocked: search behavior cannot be validated without at least one imported YouTube recording."
severity: blocker

### 5. VaultSelector YouTube Filtering During Import
expected: Go to the YouTube import page (ManualImport). The vault selector should only show YouTube-type vaults. If no YouTube vault exists yet, it should show a message like "A YouTube Hub will be created automatically".
result: skipped
reason: blocked by import prerequisite failure (HTTP 400 on youtube-import)

### 6. YouTube Vault Auto-Creation on First Import
expected: Import a YouTube video when no YouTube vault exists. After the import completes, a "YouTube Vault" should be automatically created in your personal bank and the imported video should appear inside it.
result: skipped
reason: blocked by import prerequisite failure (HTTP 400 on youtube-import)

### 7. Video Detail Modal
expected: In a YouTube vault, click on any video row. A modal should open showing: video summary above the fold (thumbnail, title, channel, stats, duration, published date, category), a collapsible description (3-line clamp by default with show more/less toggle), and a scrollable transcript section.
result: skipped
reason: blocked by import prerequisite failure (HTTP 400 on youtube-import)

### 8. Start Chat from Video Detail
expected: In the video detail modal, there should be a "Start Chat" button. Clicking it should navigate to the /chat page with the YouTube vault context pre-applied, so chat is scoped to that video.
result: skipped
reason: blocked by import prerequisite failure (HTTP 400 on youtube-import)

### 9. Non-YouTube Vaults Unaffected
expected: Open a standard (non-YouTube) vault. It should still show the normal TranscriptTable with the regular recording list and VaultSearchFilter controls - no YouTube-specific UI should appear.
result: pass

## Summary

total: 9
passed: 1
issues: 4
pending: 0
skipped: 4

## Gaps

- truth: "In the Vaults page, create a new vault. The vault type options should include \"YouTube\". Creating a YouTube vault should show a red YouTube icon and \"YouTube\" label in the vault list."
  status: failed
  reason: "User reported: I don't se this as an option in settings or in the hubs page.."
  severity: major
  test: 1
  root_cause: "Vault creation entry points use hardcoded type option lists that omit youtube, so users cannot create YouTube vaults despite backend/type support."
  artifacts:
    - path: "src/components/dialogs/CreateVaultDialog.tsx"
      issue: "VAULT_TYPE_OPTIONS omits youtube"
    - path: "src/components/settings/VaultManagement.tsx"
      issue: "Hub Type select does not include youtube"
    - path: "src/types/bank.ts"
      issue: "VaultType includes youtube, confirming UI mismatch"
  missing:
    - "Add enabled youtube option to CreateVaultDialog VAULT_TYPE_OPTIONS"
    - "Add enabled youtube SelectItem in VaultManagement create dialog"
    - "Add regression tests for both creation surfaces"
  debug_session: ".planning/debug/phase-10-3-test-1-youtube-vault-option.md"
- truth: "Open a YouTube vault that has imported videos. Instead of the standard TranscriptTable, you should see a media-row list with video thumbnails (small images), title, channel name, view/like counts, duration, and category columns. An \"Outlier\" column should show a dashed placeholder with \"coming soon\" tooltip."
  status: failed
  reason: "User reported: I don't have the ability to test any of this because whatever was done hasn't made it possible to import. I am still getting HTTP 400 on POST /functions/v1/youtube-import."
  severity: blocker
  test: 2
  root_cause: "Importer/runtime code path is now transparent and redeployed; remaining blocker is external runtime configuration: current YOUTUBE_DATA_API_KEY is invalid (API_KEY_INVALID) and transcript provider returns 402 no_active_paid_plan."
  artifacts:
    - path: "supabase/functions/youtube-import/index.ts"
      issue: "Propagates downstream source/stage/status/details to client; no opaque 500"
    - path: "supabase/functions/youtube-api/index.ts"
      issue: "Now returns provider HTTP status/details and uses transcriptapi.com endpoint; runtime reports API_KEY_INVALID and transcript 402 plan error"
    - path: ".planning/phases/10.3-youtube-specific-vaults-video-intelligence/10.3-06-PLAN.md"
      issue: "Task 3 continuation reproduced blocker with authenticated smoke requests"
  missing:
    - "Set a valid, active YOUTUBE_DATA_API_KEY secret for project vltmrnjsubfzrgrtdqey"
    - "Activate transcript provider paid plan or replace TRANSCRIPT_API_KEY-backed provider"
    - "Re-run import smoke until youtube-import returns success:true with recordingId"
    - "Then re-run UAT tests 3 and 4 against real imported video data"
  debug_session: ".planning/debug/phase-10-3-test-2-youtube-import-400.md"
- truth: "In the YouTube video list, click on column headers (Date, Views, Likes, Duration, Title). Each click should sort the list by that column, and an arrow indicator should show the current sort direction."
  status: failed
  reason: "User reported: YOU'RE NOT UNDERSTANDING ... NONE OF THIS SHIT EXISTS AT ALL YET BECAUSE I CAN'T IMPORT A FUCKING VIDEO!"
  severity: blocker
  test: 3
  root_cause: "Dependency-blocked by external YouTube import runtime configuration failure; sortable UI is implemented but cannot be validated without imported videos."
  artifacts:
    - path: "src/components/youtube/YouTubeVideoList.tsx"
      issue: "Sortable headers and sort-direction indicators are implemented"
    - path: "src/hooks/useYouTubeSearch.ts"
      issue: "Sort fields and toggle logic are implemented"
    - path: "src/components/panes/VaultDetailPane.tsx"
      issue: "YouTube list rendering requires imported recordings"
  missing:
    - "Unblock youtube-import HTTP 400 in target environment"
    - "Import at least one YouTube video to unlock runtime validation"
    - "Re-run UAT test 3 after import path is fixed"
  debug_session: ".planning/debug/phase-10-3-test-3-youtube-gap.md"
- truth: "In a YouTube vault, there should be a search bar. Type a keyword and the video list should filter to matching titles after a brief debounce (~300ms)."
  status: failed
  reason: "User reported: I CANT TEST IF I DON'T HAVE A VIDEO TO IMPORT!"
  severity: blocker
  test: 4
  root_cause: "Dependency-blocked by external YouTube import runtime configuration failure; search logic exists but cannot be exercised without imported YouTube recordings."
  artifacts:
    - path: "src/hooks/useYouTubeSearch.ts"
      issue: "300ms debounce and title filtering already implemented"
    - path: "src/components/panes/VaultDetailPane.tsx"
      issue: "Search UI appears when YouTube recordings exist"
    - path: ".planning/debug/resolved/youtube-import-400-error.md"
      issue: "Existing debug shows importer auth/deploy chain as blocker"
  missing:
    - "Deploy/fix youtube-import path so import succeeds"
    - "Create at least one YouTube recording in vault"
    - "Re-run UAT test 4 after import path is unblocked"
  debug_session: ".planning/debug/phase-10-3-test-4-search-gap.md"
