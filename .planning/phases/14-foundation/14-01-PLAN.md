---
phase: 14-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - /Users/Naegele/dev/callvault/package.json
  - /Users/Naegele/dev/callvault/vite.config.ts
  - /Users/Naegele/dev/callvault/tsconfig.json
  - /Users/Naegele/dev/callvault/tsconfig.app.json
  - /Users/Naegele/dev/callvault/tsconfig.node.json
  - /Users/Naegele/dev/callvault/components.json
  - /Users/Naegele/dev/callvault/src/globals.css
  - /Users/Naegele/dev/callvault/src/main.tsx
  - /Users/Naegele/dev/callvault/src/lib/utils.ts
  - /Users/Naegele/dev/callvault/.env
  - /Users/Naegele/dev/callvault/.env.example
  - /Users/Naegele/dev/callvault/.gitignore
  - /Users/Naegele/dev/callvault/CLAUDE.md
  - /Users/Naegele/dev/callvault/src-tauri/.gitkeep
  - /Users/Naegele/dev/callvault/index.html
autonomous: true
must_haves:
  truths:
    - "New Vite 7 + React 19 project exists at /Users/Naegele/dev/callvault/ as sibling of brain/"
    - "pnpm dev starts successfully on port 3000 with zero errors"
    - "TailwindCSS v4 renders utility classes correctly (no tailwind.config.js exists)"
    - "shadcn/ui is initialized with TanStack Router adapter and Tailwind v4 CSS variable format"
    - "Zero AI/RAG/embedding code exists anywhere in the repo"
    - "No Google Meet OAuth scopes or references exist in the repo"
  artifacts:
    - path: "/Users/Naegele/dev/callvault/package.json"
      provides: "Project manifest with all core dependencies"
      contains: "motion"
    - path: "/Users/Naegele/dev/callvault/vite.config.ts"
      provides: "Vite 7 config with TanStack Router plugin and TailwindCSS"
      contains: "TanStackRouterVite"
    - path: "/Users/Naegele/dev/callvault/src/globals.css"
      provides: "Full color system ported from v1 with hsl() wrapped values"
      contains: "@import \"tailwindcss\""
    - path: "/Users/Naegele/dev/callvault/src-tauri/.gitkeep"
      provides: "Tauri directory placeholder"
    - path: "/Users/Naegele/dev/callvault/CLAUDE.md"
      provides: "Development instructions referencing brain/.planning/"
  key_links:
    - from: "/Users/Naegele/dev/callvault/vite.config.ts"
      to: "@tanstack/router-plugin/vite"
      via: "Vite plugin config"
      pattern: "TanStackRouterVite"
    - from: "/Users/Naegele/dev/callvault/src/globals.css"
      to: "CSS variables"
      via: "@theme inline block"
      pattern: "@theme inline"
---

<objective>
Scaffold the new callvault repo with the validated tech stack, full color system, and zero AI code.

Purpose: FOUND-02 (validated stack), FOUND-03 (new repo), FOUND-09 (no Google Meet), AI-02 (no AI code). This creates the empty-but-working foundation that all subsequent plans build on.
Output: A running Vite 7 dev server at localhost:3000 with TanStack Router, TailwindCSS v4, shadcn/ui, Motion, Zustand v5, and TanStack Query v5 installed.
</objective>

<execution_context>
@/Users/Naegele/.claude/get-shit-done/workflows/execute-plan.md
@/Users/Naegele/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/Naegele/dev/brain/.planning/ROADMAP.md
@/Users/Naegele/dev/brain/.planning/STATE.md
@/Users/Naegele/dev/brain/.planning/phases/14-foundation/14-RESEARCH.md
@/Users/Naegele/dev/brain/.planning/phases/14-foundation/14-CONTEXT.md
@/Users/Naegele/dev/brain/src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create callvault repo with full dependency stack</name>
  <files>
    /Users/Naegele/dev/callvault/package.json
    /Users/Naegele/dev/callvault/vite.config.ts
    /Users/Naegele/dev/callvault/tsconfig.json
    /Users/Naegele/dev/callvault/tsconfig.app.json
    /Users/Naegele/dev/callvault/tsconfig.node.json
    /Users/Naegele/dev/callvault/index.html
    /Users/Naegele/dev/callvault/.gitignore
    /Users/Naegele/dev/callvault/.env
    /Users/Naegele/dev/callvault/.env.example
    /Users/Naegele/dev/callvault/src-tauri/.gitkeep
    /Users/Naegele/dev/callvault/src/main.tsx
  </files>
  <action>
    1. Scaffold new Vite project:
       ```
       cd /Users/Naegele/dev
       pnpm create vite callvault --template react-swc-ts
       cd callvault
       ```

    2. Install ALL dependencies in one batch:
       ```
       # Core
       pnpm install @tanstack/react-router @tanstack/router-plugin

       # TailwindCSS v4
       pnpm install tailwindcss @tailwindcss/vite

       # Animation
       pnpm install motion

       # State management
       pnpm install zustand @tanstack/react-query

       # Supabase
       pnpm install @supabase/supabase-js

       # Icons + UI utilities
       pnpm install @remixicon/react sonner next-themes
       pnpm install clsx tailwind-merge class-variance-authority zod

       # Error handling + dates
       pnpm install react-error-boundary date-fns

       # Tour/onboarding
       pnpm install driver.js

       # Animation utilities for shadcn
       pnpm install tw-animate-css
       ```

    3. Configure vite.config.ts with TanStack Router plugin, TailwindCSS plugin, SWC plugin, path alias `@` -> `./src`, dev server port 3000. Use the exact pattern from 14-RESEARCH.md Pattern 1.

    4. Update tsconfig.json and tsconfig.app.json to include path alias: `"@/*": ["./src/*"]`. Set `compilerOptions.baseUrl` to `.`.

    5. Run `pnpm dlx shadcn@latest init` to initialize shadcn/ui. When prompted:
       - Style: New York
       - Base color: Neutral
       - CSS variables: yes
       - Use TanStack Router adapter if prompted (or configure manually in components.json)
       After init, verify `components.json` exists and references the correct import alias `@/`.

    6. Create `.env` by copying VITE_SUPABASE_URL and VITE_SUPABASE_PUBLISHABLE_KEY from `/Users/Naegele/dev/brain/.env`. Create `.env.example` with the same keys but placeholder values.

    7. Create `.gitignore` including: node_modules, dist, .env (not .env.example), src/routeTree.gen.ts (auto-generated by TanStack Router plugin), .vercel.

    8. Create `src-tauri/.gitkeep` (empty file, Tauri placeholder from day 1 per spec).

    9. Replace default `src/main.tsx` with the minimal setup from 14-RESEARCH.md Pattern 1: StrictMode, QueryClientProvider (staleTime: 5min, gcTime: 10min, refetchOnWindowFocus: false, retry: 1), RouterProvider with routeTree. Include the `declare module '@tanstack/react-router'` Register block.

    10. Initialize git repo, make initial commit. Do NOT push to GitHub yet (that requires creating the remote repo).

    CONSTRAINT: Zero AI/RAG/embedding code anywhere (AI-02). Zero Google OAuth scopes or Meet references (FOUND-09). Verify by grepping the entire repo for "openai", "embedding", "rag", "langfuse", "google_meet", "meet.google" — must return zero results.
  </action>
  <verify>
    - `ls /Users/Naegele/dev/callvault/package.json` exists
    - `ls /Users/Naegele/dev/callvault/src-tauri/.gitkeep` exists
    - `grep "tailwind.config" /Users/Naegele/dev/callvault/ -r` returns zero results (no JS config file)
    - `grep -ri "openai\|embedding\|rag\|langfuse\|google.meet\|google_meet" /Users/Naegele/dev/callvault/src/` returns zero results
    - `cd /Users/Naegele/dev/callvault && pnpm dev` starts without errors (Ctrl+C after confirming)
  </verify>
  <done>Vite 7 dev server starts successfully at localhost:3000. All 15+ dependencies installed. TanStack Router plugin generates routeTree.gen.ts on first dev start. No AI code, no Google Meet code, no tailwind.config.js.</done>
</task>

<task type="auto">
  <name>Task 2: Port complete color system and configure CLAUDE.md</name>
  <files>
    /Users/Naegele/dev/callvault/src/globals.css
    /Users/Naegele/dev/callvault/src/lib/utils.ts
    /Users/Naegele/dev/callvault/CLAUDE.md
  </files>
  <action>
    1. Create `src/globals.css` by porting the ENTIRE color system from `/Users/Naegele/dev/brain/src/index.css`:
       - Replace `@tailwind base; @tailwind components; @tailwind utilities;` with `@import "tailwindcss";` and `@import "tw-animate-css";`
       - Remove all `@layer base { }` wrappers — put `:root` and `.dark` blocks at top level
       - CRITICAL CSS VARIABLE FORMAT CHANGE: Convert ALL raw HSL values to hsl() wrapped format:
         v1 format: `--white: 0 0% 100%;`
         v2 format: `--white: hsl(0 0% 100%);`
         This applies to EVERY variable in :root and .dark blocks
       - Add `@theme { }` block for brand tokens (vibe-orange, fonts, pane-gap spacing, pane radius)
       - Add `@theme inline { }` block mapping semantic CSS vars to Tailwind utility classes:
         `--color-background: var(--background);` etc. for all shadcn/ui expected tokens (background, foreground, card, card-foreground, popover, popover-foreground, primary, primary-foreground, secondary, secondary-foreground, muted, muted-foreground, accent, accent-foreground, destructive, destructive-foreground, border, input, ring, chart-1 through chart-5, sidebar-*)
       - Copy ALL color tokens: primary neutrals, vibe orange, button system tokens, semantic status colors, premium button gradients, dark mode neutrals, Apple design system tokens
       - Include body base styles: `body { font-family: 'Inter', sans-serif; }` and antialiased rendering
       - Port the Montserrat + Inter Google Fonts import (add to index.html `<link>` tags, not CSS @import for performance)

    2. Create `src/lib/utils.ts` with the `cn()` helper:
       ```typescript
       import { type ClassValue, clsx } from "clsx"
       import { twMerge } from "tailwind-merge"
       export function cn(...inputs: ClassValue[]) {
         return twMerge(clsx(inputs))
       }
       ```

    3. Create `CLAUDE.md` at `/Users/Naegele/dev/callvault/CLAUDE.md`:
       - Reference `brain/.planning/` as the planning directory (absolute path)
       - State this is the v2 frontend repo pointing at same Supabase project
       - Document key constraints: no AI code (AI-02), no Google Meet (FOUND-09), TailwindCSS v4 CSS-only config, Remix Icons only, 500ms transitions, AppShell mandatory
       - Reference brain/src/CLAUDE.md for v1 patterns that carry forward
       - Document dev server port: 3000
       - Document the path alias: `@/` -> `src/`

    4. Add Google Fonts `<link>` tags to `index.html` for Inter (300, 400, 500, 600) and Montserrat (700, 800).

    COLOR SYSTEM ACCURACY: The color system copy must be comprehensive. Read the ENTIRE brain/src/index.css file and port every CSS custom property. Do not skip button tokens, gradient tokens, status colors, or dark mode overrides. The v2 app should render with identical colors to v1.
  </action>
  <verify>
    - `grep "@import \"tailwindcss\"" /Users/Naegele/dev/callvault/src/globals.css` returns a match
    - `grep "tailwind.config" /Users/Naegele/dev/callvault/ -r` returns zero results
    - `grep "@theme inline" /Users/Naegele/dev/callvault/src/globals.css` returns a match
    - `grep "hsl(" /Users/Naegele/dev/callvault/src/globals.css | head -5` shows hsl()-wrapped values
    - `cat /Users/Naegele/dev/callvault/src/lib/utils.ts` shows cn() function
    - `cat /Users/Naegele/dev/callvault/CLAUDE.md` exists and references brain/.planning/
    - `cd /Users/Naegele/dev/callvault && pnpm dev` still starts without errors
  </verify>
  <done>Full v1 color system ported to TailwindCSS v4 format. All CSS variables use hsl() wrapping. @theme inline block exposes all semantic tokens to Tailwind utilities. CLAUDE.md documents all v2 constraints. cn() utility available at @/lib/utils.</done>
</task>

</tasks>

<verification>
1. `/Users/Naegele/dev/callvault/` exists as a sibling of `brain/`, NOT inside it
2. `pnpm dev` starts Vite dev server at localhost:3000 with zero errors
3. No `tailwind.config.js` or `tailwind.config.ts` exists (TailwindCSS v4 CSS-first)
4. `grep -ri "openai\|embedding\|rag\|langfuse\|google.meet" src/` returns zero results
5. `src-tauri/.gitkeep` exists
6. CSS variables use `hsl()` format, not raw HSL numbers
7. `@theme inline` block exists in globals.css
</verification>

<success_criteria>
A developer can `cd /Users/Naegele/dev/callvault && pnpm dev` and see a running Vite app with all dependencies installed, TailwindCSS v4 rendering correctly, and the full CallVault color system available. Zero AI code. Zero Google Meet references.
</success_criteria>

<output>
After completion, create `.planning/phases/14-foundation/14-01-SUMMARY.md` in the brain repo.
</output>
